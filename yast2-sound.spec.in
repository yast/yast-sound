@HEADER-COMMENT@

@HEADER@
Group:	System/YaST
License: GPL-2.0+
BuildRequires:	alsa-devel gcc-c++ doxygen perl-XML-Writer update-desktop-files yast2 yast2-core-devel yast2-devtools yast2-testsuite kernel-default ruby libtool

# GetInstArgs::automatic_configuration
# Wizard::SetDesktopTitleAndIcon
Requires:	yast2 >= 2.21.22
Requires:	alsa

Provides:	yast2-config-sound yast2-agent-audio yast2-agent-audio-devel
Obsoletes:	yast2-config-sound yast2-agent-audio yast2-agent-audio-devel
Provides:	yast2-trans-sound yast2-trans-soundd y2c_snd y2t_snd y2t_sndd
Obsoletes:	yast2-trans-sound yast2-trans-soundd y2c_snd y2t_snd y2t_sndd
Provides:	y2c_sparc y2c_sprc yast2-db-sound y2d_snd
Obsoletes:	y2c_sparc y2c_sprc yast2-db-sound y2d_snd

Summary:	YaST2 - Sound Configuration

%description
This package contains the YaST2 component for sound card configuration.

@PREP@

@BUILD@

@INSTALL@
rm -rf %{buildroot}/@plugindir@/libpy2ag_audio.la

@CLEAN@

%post
# rename the config file to the new modprobe schema
if test -e /etc/modprobe.d/sound; then
    mv -f /etc/modprobe.d/sound /etc/modprobe.d/50-sound.conf
fi

%files
%defattr(-,root,root)

# sound
%dir @yncludedir@/sound
@yncludedir@/sound/*.ycp
@clientdir@/sound*.ycp
@clientdir@/joystick.ycp
@desktopdir@/sound.desktop
@desktopdir@/joystick.desktop
@ybindir@/copyfonts
@ybindir@/alsadrivers
@ybindir@/joystickdrivers
@moduledir@/Sound.*
@moduledir@/Joystick.*
@moduledir@/PulseAudio.*
@schemadir@/autoyast/rnc/sound.rnc

# database
@ydatadir@/sndcards.ycp
@ydatadir@/alsa_packages.ycp

# agents
@plugindir@/libpy2ag_audio.so*
@scrconfdir@/*.scr

%doc @docdir@
